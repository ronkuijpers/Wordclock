# Openstaande taken

## Security
- Basis-auth draait nog over HTTP; omzeil dit via een reverse proxy met TLS of implementeer device-side certificaten.
- OTA: implementeer SHA-256 controle en pin een vertrouwd certificaat in `src/ota_updater.cpp`.
- UI-endpoints die state wijzigen omzetten naar POST + CSRF-token (`src/web_routes.h`).

## Reliability
- ArduinoJson heapdruk beperken: vervang dynamische `JsonDocument` door `StaticJsonDocument` in MQTT hot paths (`src/mqtt_client.cpp`).
- Overweeg migratie van SPIFFS naar LittleFS voor wear-levelling (`src/fs_compat.h`).

## Performance & Flash footprint
- Serveer UI-bestanden gecomprimeerd: detecteer `Accept-Encoding: gzip` en stream `.gz` varianten (`src/web_routes.h`).
- Minimaliseer web-assets in SPIFFS (dubbele / niet-gebruikte bestanden verwijderen, waar mogelijk minified versies bewaren).
- Activeer Link Time Optimization en controleer build-flags om firmwaregrootte te reduceren (PlatformIO `platformio.ini`).

## Maintainability
- Normaliseer resterende Nederlandstalige logregels / UI-strings naar Engels (`src/wordclock.cpp`, `src/web_routes.h`).
- Documenteer kernconfiguratie en ranges in `src/config.h` (korte comments bij defines).
- UI Files worden elke nacht en restart gepulld. Werkt version check niet?

## Functional enhancements

# Afgerond / gearchiveerd
- Verkooptijd-knop 10:47
- Directe aan/uit bediening
- Verkorte IP-sequentie
- Optioneel tonen van "HET IS"
- Gefaseerde woordanimatie
- MQTT-config via UI
- MQTT reconnect backoff + logging
- Kleurinvoer valideren voor `/setColor`
- NTP timeout + indicator bij ontbrekende tijd
- Instelbaar via dashboard dat leds tussen bepaalde tijd uit gaat of lagere helderheid
- [x] (In progress) Voeg een beveiligde `/syncUI` endpoint toe dat `syncFilesFromManifest()` triggert.
- [x] Voorzie een log-download endpoint (`/log/download`) en roteer logs dagelijks.
- [x] Publiceer een `/buildinfo` JSON met git SHA, buildtijd en PlatformIO environment.
- [x] Implementeer een automatische cleanup van log files na 30 dagen
- [x] Exposeer MQTT status via `/api/mqtt/status` met laatste foutmelding (`src/web_routes.h`, `src/mqtt_client.cpp`).

# Overgeslagen
- Opstartsequence licht ook niet-gebruikte LEDs op
- Startup sweep niet per LED
- Elke ncht tijd weer syncen met NTP
- IP-adres nul-fix
